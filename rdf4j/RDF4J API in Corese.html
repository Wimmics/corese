
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Corese-library and RDF4J &#8212; CORESE</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/collapsible-lists/css/tree_view.css?v=a885cde7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=0675bd48" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=0064dc2b"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js?v=73120307"></script>
    <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js?v=660e4f45"></script>
    <script src="https://unpkg.com/mermaid@10.2.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'rdf4j/RDF4J API in Corese';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.14.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'http://127.0.0.1:3000/docs/source/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'v\d+\.\d+\.\d+';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../_static/corese.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/corese.svg" class="logo__image only-light" alt="CORESE - Home"/>
    <script>document.write(`<img src="../_static/corese.svg" class="logo__image only-dark" alt="CORESE - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../apis.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://corese.inria.fr/">
                        Demo
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Wimmics/corese" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../apis.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://corese.inria.fr/">
                        Demo
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Wimmics/corese" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Corese-libra...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="corese-library-and-rdf4j">
<h1>Corese-library and RDF4J<a class="headerlink" href="#corese-library-and-rdf4j" title="Permalink to this heading">#</a></h1>
<p><a class="reference external" href="https://rdf4j.org/about/">RDF4J</a> is a project of the Eclipse Foundation. It’s an open source modular Java framework for working with RDF data. RDF4J offers an easy-to-use API that can be connected to all leading RDF database solutions.</p>
<p>This document details the RDF4J APIs implemented in Corese and how to use and connect the Corese framework with RDF4J.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#corese-library-and-rdf4j">Corese-library and RDF4J</a></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#implementation-of-the-rdf4j-model-api-in-corese">1. Implementation of the RDF4J model API in Corese</a></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#build-a-corese-model-by-program">1.1. Build a Corese Model by program</a></p></li>
<li><p><a class="reference internal" href="#manipulate-a-corese-model">1.2. Manipulate a Corese Model</a></p></li>
<li><p><a class="reference internal" href="#get-a-corese-model-from-a-corese-graph">1.3. Get a Corese Model from a Corese Graph</a></p></li>
<li><p><a class="reference internal" href="#get-a-corese-graph-from-a-corese-model">1.4. Get a Corese Graph from a Corese Model</a></p></li>
<li><p><a class="reference internal" href="#get-a-corese-model-from-any-object-that-implements-the-rdf4j-model-api">1.5. Get a Corese model from any object that implements the RDF4J model API</a></p></li>
<li><p><a class="reference internal" href="#use-external-tools-compatible-with-the-rdf4j-model-api">1.6. Use external tools compatible with the RDF4J model API</a></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#rio">1.6.1. RIO</a></p></li>
<li><p><a class="reference internal" href="#rdf4j-sparql-engine-with-a-corese-model">1.6.2. RDF4J SPARQL Engine with a Corese model</a></p></li>
</ol>
</li>
</ol>
</li>
<li><p><a class="reference internal" href="#implementation-of-an-rdf4j-data-manager-in-corese">2. Implementation of an RDF4J data manager in Corese</a></p></li>
</ol>
</li>
</ol>
<section id="implementation-of-the-rdf4j-model-api-in-corese">
<h2>1. Implementation of the RDF4J model API in Corese<a class="headerlink" href="#implementation-of-the-rdf4j-model-api-in-corese" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://rdf4j.org/documentation/programming/model/">RDF4J model API</a> provides the basic building blocks for manipulating RDF data.
Corese implements this API in the <code class="docutils literal notranslate"><span class="pre">CoreseModel</span></code> class.</p>
<p>Thus, in Corese a graph can be constructed, explored and manipulated through two APi:</p>
<ul class="simple">
<li><p>the corese graph API (Described <a class="reference external" href="https://notes.inria.fr/s/hiiedLfVe#11-build-a-graph-manually">in this document</a>)</p></li>
<li><p>the RDF4J model API (Described here)</p></li>
</ul>
<p>This section presents examples of how to use the Corese implementation of the RDF4J model API.</p>
<section id="build-a-corese-model-by-program">
<h3>1.1. Build a Corese Model by program<a class="headerlink" href="#build-a-corese-model-by-program" title="Permalink to this heading">#</a></h3>
<p>The example shows how to create the RDF graph below with the Corese implementation of the RDF4J model API:</p>
<div class="mermaid">
            graph LR;
    classDef IRI fill:#FEAE65,stroke-width:0px
    classDef DT fill:#FEFEFE,stroke-width:0px

    iri:EdithPiaf([&quot;ex:EdithPiaf&quot;])
    iri:Singer([&quot;ex:Singer&quot;])
    dt:Edith[&quot;''Edith''&quot;]
    dt:Piaf[&quot;''Piaf''&quot;]

    class iri:EdithPiaf,iri:Singer IRI
    class dt:Edith,dt:Piaf DT

    iri:EdithPiaf--rdf:type--&gt;iri:Singer;
    iri:EdithPiaf--ex:firstName--&gt;dt:Edith;
    iri:EdithPiaf--ex:lastName--&gt;dt:Piaf;
        </div><p>This model represents three statements :</p>
<ul class="simple">
<li><p>Edith Piaf is a singer</p></li>
<li><p>Edith Piaf’s first name is Edith</p></li>
<li><p>Edith Piaf’s last name is Piaf</p></li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Define the namespace ex</span>
<span class="n">String</span><span class="w"> </span><span class="n">ex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;http://example.org/&quot;</span><span class="p">;</span>

<span class="c1">// Create a new empty CoreseModel</span>
<span class="n">Model</span><span class="w"> </span><span class="n">corese_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CoreseModel</span><span class="p">();</span>

<span class="c1">// Create IRIs</span>
<span class="n">IRI</span><span class="w"> </span><span class="n">edithPiafIRI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Values</span><span class="p">.</span><span class="na">iri</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EdithPiaf&quot;</span><span class="p">);</span>
<span class="n">IRI</span><span class="w"> </span><span class="n">singerIRI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Values</span><span class="p">.</span><span class="na">iri</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Singer&quot;</span><span class="p">);</span>

<span class="c1">// Create properties</span>
<span class="n">IRI</span><span class="w"> </span><span class="n">rdfTypeProperty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Values</span><span class="p">.</span><span class="na">iri</span><span class="p">(</span><span class="n">RDF</span><span class="p">.</span><span class="na">TYPE</span><span class="p">.</span><span class="na">stringValue</span><span class="p">());</span>
<span class="n">IRI</span><span class="w"> </span><span class="n">firstNameProperty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Values</span><span class="p">.</span><span class="na">iri</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;firstName&quot;</span><span class="p">);</span>
<span class="n">IRI</span><span class="w"> </span><span class="n">lastNameProperty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Values</span><span class="p">.</span><span class="na">iri</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;lastName&quot;</span><span class="p">);</span>

<span class="c1">// Create datatypes</span>
<span class="n">Literal</span><span class="w"> </span><span class="n">edithDatatype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Values</span><span class="p">.</span><span class="na">literal</span><span class="p">(</span><span class="s">&quot;Edith&quot;</span><span class="p">);</span>
<span class="n">Literal</span><span class="w"> </span><span class="n">piafDatatype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Values</span><span class="p">.</span><span class="na">literal</span><span class="p">(</span><span class="s">&quot;Piaf&quot;</span><span class="p">);</span>

<span class="c1">// Add first statement : Edith Piaf is an Singer</span>
<span class="n">corese_model</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">edithPiafIRI</span><span class="p">,</span><span class="w"> </span><span class="n">rdfTypeProperty</span><span class="p">,</span><span class="w"> </span><span class="n">singerIRI</span><span class="p">);</span>
<span class="c1">// Add second statement : Edith Piaf&#39;s first name is Edith</span>
<span class="n">corese_model</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">edithPiafIRI</span><span class="p">,</span><span class="w"> </span><span class="n">firstNameProperty</span><span class="p">,</span><span class="w"> </span><span class="n">edithDatatype</span><span class="p">);</span>
<span class="c1">// Add third statement : Edith Piaf&#39;s last name is Piaf</span>
<span class="n">corese_model</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">edithPiafIRI</span><span class="p">,</span><span class="w"> </span><span class="n">lastNameProperty</span><span class="p">,</span><span class="w"> </span><span class="n">piafDatatype</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="manipulate-a-corese-model">
<h3>1.2. Manipulate a Corese Model<a class="headerlink" href="#manipulate-a-corese-model" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">CoreseModel</span></code> implements all methods defined in the RDF4J model API. There are many methods to modify and explore the graph.
All available methods and their documentation are described <a class="reference external" href="https://rdf4j.org/javadoc/latest/org/eclipse/rdf4j/model/Model.html">here</a>.</p>
</section>
<section id="get-a-corese-model-from-a-corese-graph">
<h3>1.3. Get a Corese Model from a Corese Graph<a class="headerlink" href="#get-a-corese-model-from-a-corese-graph" title="Permalink to this heading">#</a></h3>
<p>This exemple shows how to convert a Corese Graph to an equivalent Corese Model.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Graph</span><span class="w"> </span><span class="n">corese_graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Graph</span><span class="p">();</span>

<span class="c1">// Operations on the corese graph (e.g: add edge, etc)</span>
<span class="c1">// […]</span>

<span class="c1">// Convert the Corese Graph to Corese Model</span>
<span class="n">Model</span><span class="w"> </span><span class="n">RDF4J_corese_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CoreseModel</span><span class="p">(</span><span class="n">corese_graph</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="get-a-corese-graph-from-a-corese-model">
<h3>1.4. Get a Corese Graph from a Corese Model<a class="headerlink" href="#get-a-corese-graph-from-a-corese-model" title="Permalink to this heading">#</a></h3>
<p>This exemple shows how to convert a Corese Model to an equivalent Corese Graph.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Model</span><span class="w"> </span><span class="n">RDF4J_corese_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CoreseModel</span><span class="p">();</span>

<span class="c1">// Operations on the Corese Model (e.g: add statement, etc)</span>
<span class="c1">// […]</span>

<span class="c1">// Convert the Corese Model to Corese Graph</span>
<span class="n">Graph</span><span class="w"> </span><span class="n">corese_graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RDF4J_corese_model</span><span class="p">.</span><span class="na">getCoreseGraph</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="get-a-corese-model-from-any-object-that-implements-the-rdf4j-model-api">
<h3>1.5. Get a Corese model from any object that implements the RDF4J model API<a class="headerlink" href="#get-a-corese-model-from-any-object-that-implements-the-rdf4j-model-api" title="Permalink to this heading">#</a></h3>
<p>This exemple shows how to convert any object that implements the RDF4J model API to an equivalent Corese Model.</p>
<p>This first example is with a TreeModel, an implementation of the Model API directly available in the RDF4J library.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Model</span><span class="w"> </span><span class="n">RDF4J_tree_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeModel</span><span class="p">();</span>

<span class="c1">// Operations on the RDF4J tree model (e.g: add statement, etc)</span>
<span class="c1">// […]</span>

<span class="c1">// Convert the RDF4J tree model to an Corese Model</span>
<span class="n">Model</span><span class="w"> </span><span class="n">RDF4J_corese_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CoreseModel</span><span class="p">(</span><span class="n">RDF4J_tree_model</span><span class="p">);</span>
</pre></div>
</div>
<p>This second example is with an another CoreseModel.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Model</span><span class="w"> </span><span class="n">original_RDF4J_corese_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CoreseModel</span><span class="p">();</span>

<span class="c1">// Operations on the Corese model (e.g: add statement, etc)</span>
<span class="c1">// […]</span>

<span class="c1">// Duplicate the Corese model to an another Corese Model</span>
<span class="n">Model</span><span class="w"> </span><span class="n">another_RDF4J_corese_model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CoreseModel</span><span class="p">(</span><span class="n">original_RDF4J_corese_model</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="use-external-tools-compatible-with-the-rdf4j-model-api">
<h3>1.6. Use external tools compatible with the RDF4J model API<a class="headerlink" href="#use-external-tools-compatible-with-the-rdf4j-model-api" title="Permalink to this heading">#</a></h3>
<section id="rio">
<h4>1.6.1. RIO<a class="headerlink" href="#rio" title="Permalink to this heading">#</a></h4>
<p>Rio is a set of parsers and writers for RDF developed for RDF4J framework. It can be use to parse from or write to an RDF document.
You can find the RIO documentation <a class="reference external" href="https://rdf4j.org/javadoc/3.4.3/org/eclipse/rdf4j/rio/Rio.html">here</a>.</p>
<p>This example shows how to parse an RDF document with RIO, load data into a Corese model and serialize the contents of the Corese model into a file.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">CoreseModel</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CoreseModel</span><span class="p">();</span>

<span class="c1">// Parse from file</span>
<span class="n">RDFParser</span><span class="w"> </span><span class="n">rdfParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rio</span><span class="p">.</span><span class="na">createParser</span><span class="p">(</span><span class="n">RDFFormat</span><span class="p">.</span><span class="na">TURTLE</span><span class="p">);</span>
<span class="n">rdfParser</span><span class="p">.</span><span class="na">setRDFHandler</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">StatementCollector</span><span class="p">(</span><span class="n">model</span><span class="p">));</span>

<span class="n">InputStream</span><span class="w"> </span><span class="n">input_stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rdf4jExperimentations</span><span class="p">.</span><span class="na">class</span><span class="p">.</span><span class="na">getResourceAsStream</span><span class="p">(</span>
<span class="w">        </span><span class="s">&quot;http://example.org/example.ttl&quot;</span><span class="p">);</span>

<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">rdfParser</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="n">input_stream</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// handle IO problems (e.g. the file could not be read)</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">RDFParseException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// handle unrecoverable parse error</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">RDFHandlerException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// handle a problem encountered by the RDFHandler</span>
<span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">input_stream</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Serialization to a file</span>
<span class="n">FileOutputStream</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;example_result.ttl&quot;</span><span class="p">);</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Rio</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">RDFFormat</span><span class="p">.</span><span class="na">TURTLE</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">out</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="rdf4j-sparql-engine-with-a-corese-model">
<h4>1.6.2. RDF4J SPARQL Engine with a Corese model<a class="headerlink" href="#rdf4j-sparql-engine-with-a-corese-model" title="Permalink to this heading">#</a></h4>
<p>The RDF4J Framework also implements a SPARQL engine. This example shows how to use the RDF4J SPARQL engine with a Corese model.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create a Corese model</span>
<span class="n">CoreseModel</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CoreseModel</span><span class="p">();</span>

<span class="c1">// Load file content in Corese model</span>
<span class="c1">// […]</span>

<span class="c1">// Create a new Repository. Here, we choose a database implementation</span>
<span class="c1">// that simply stores everything in main memory.</span>
<span class="n">Repository</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SailRepository</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MemoryStore</span><span class="p">());</span>

<span class="c1">// Open a connection to the database</span>
<span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">RepositoryConnection</span><span class="w"> </span><span class="n">conn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">getConnection</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// add the model</span>
<span class="w">    </span><span class="n">conn</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">model</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// We do a simple SPARQL SELECT-query</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">queryString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;PREFIX ex: &lt;http://example.org/ns#&gt; \n&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">queryString</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;PREFIX rf: &lt;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">RDF</span><span class="p">.</span><span class="na">NAMESPACE</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&gt; \n&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">queryString</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;SELECT ?s ?o \n&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">queryString</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;WHERE { \n&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">queryString</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;    ?s a ?o.&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">queryString</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;}&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">TupleQuery</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">prepareTupleQuery</span><span class="p">(</span><span class="n">queryString</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// A QueryResult is also an AutoCloseable resource, so make sure it gets closed</span>
<span class="w">    </span><span class="c1">// when done.</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">TupleQueryResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">query</span><span class="p">.</span><span class="na">evaluate</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// we just iterate over all solutions in the result...</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">BindingSet</span><span class="w"> </span><span class="n">solution</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ... and print out the value of the variable binding for ?s and ?o</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;?s = &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">solution</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="s">&quot;s&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;?o = &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">solution</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="s">&quot;o&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;---––––––––––––---&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// before our program exits, make sure the database is properly shut down.</span>
<span class="w">    </span><span class="n">db</span><span class="p">.</span><span class="na">shutDown</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="implementation-of-an-rdf4j-data-manager-in-corese">
<h2>2. Implementation of an RDF4J data manager in Corese<a class="headerlink" href="#implementation-of-an-rdf4j-data-manager-in-corese" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">DataManager</span></code> API is an interface that allows the Corese engine to connect to and interact with external storage systems. By implementing the Datamanager interface, it is possible to use the Corese engine with any storage structure.</p>
<p>The Rdf4jModelDataManager is an implementation of this interface for RDF4J models, enabling the use of the Corese SPARQL engine with any triple storage structure that implements the RDF4J API. For more information on using the Datamanager API and implementing storage systems in Corese, refer to the documentation <a class="reference external" href="https://github.com/Wimmics/corese/blob/master/docs/storage/Persistence%20in%20Corese.md">on Storage and Persistence in Corese</a>.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation-of-the-rdf4j-model-api-in-corese">1. Implementation of the RDF4J model API in Corese</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-a-corese-model-by-program">1.1. Build a Corese Model by program</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulate-a-corese-model">1.2. Manipulate a Corese Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-a-corese-model-from-a-corese-graph">1.3. Get a Corese Model from a Corese Graph</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-a-corese-graph-from-a-corese-model">1.4. Get a Corese Graph from a Corese Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-a-corese-model-from-any-object-that-implements-the-rdf4j-model-api">1.5. Get a Corese model from any object that implements the RDF4J model API</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#use-external-tools-compatible-with-the-rdf4j-model-api">1.6. Use external tools compatible with the RDF4J model API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#rio">1.6.1. RIO</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#rdf4j-sparql-engine-with-a-corese-model">1.6.2. RDF4J SPARQL Engine with a Corese model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementation-of-an-rdf4j-data-manager-in-corese">2. Implementation of an RDF4J data manager in Corese</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/rdf4j/RDF4J API in Corese.md.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, WIMMICS.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>